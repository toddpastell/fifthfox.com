(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{AUsD:function(t,n,e){"use strict";e.r(n);var i=e("CcnG"),u=e("K9Ia"),l=e("dC0D"),o=function(){function t(){this.latest$=new u.a,this.messages$=this.latest$.pipe(Object(l.a)(function(t,n){return n.concat(t.filter(function(t){return!t.loading}))}))}return t.prototype.addMessage=function(t){this.latest$.next([t])},t.ngInjectableDef=i.O({factory:function(){return new t},token:t,providedIn:"root"}),t}(),r=e("VnD/"),s=e("mrSG"),c=function(t){function n(n,e){var i=t.call(this,n,e)||this;return i.scheduler=n,i.work=e,i.pending=!1,i}return s.b(n,t),n.prototype.schedule=function(t,n){if(void 0===n&&(n=0),this.closed)return this;this.state=t;var e=this.id,i=this.scheduler;return null!=e&&(this.id=this.recycleAsyncId(i,e,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(i,this.id,n),this},n.prototype.requestAsyncId=function(t,n,e){return void 0===e&&(e=0),setInterval(t.flush.bind(t,this),e)},n.prototype.recycleAsyncId=function(t,n,e){if(void 0===e&&(e=0),null!==e&&this.delay===e&&!1===this.pending)return n;clearInterval(n)},n.prototype.execute=function(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var e=this._execute(t,n);if(e)return e;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},n.prototype._execute=function(t,n){var e=!1,i=void 0;try{this.work(t)}catch(t){e=!0,i=!!t&&t||new Error(t)}if(e)return this.unsubscribe(),i},n.prototype._unsubscribe=function(){var t=this.id,n=this.scheduler,e=n.actions,i=e.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&e.splice(i,1),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null},n}(function(t){function n(n,e){return t.call(this)||this}return s.b(n,t),n.prototype.schedule=function(t,n){return void 0===n&&(n=0),this},n}(e("pugT").a)),a=function(){function t(n,e){void 0===e&&(e=t.now),this.SchedulerAction=n,this.now=e}return t.prototype.schedule=function(t,n,e){return void 0===n&&(n=0),new this.SchedulerAction(this,t).schedule(e,n)},t.now=Date.now?Date.now:function(){return+new Date},t}(),h=new(function(t){function n(e,i){void 0===i&&(i=a.now);var u=t.call(this,e,function(){return n.delegate&&n.delegate!==u?n.delegate.now():i()})||this;return u.actions=[],u.active=!1,u.scheduled=void 0,u}return s.b(n,t),n.prototype.schedule=function(e,i,u){return void 0===i&&(i=0),n.delegate&&n.delegate!==this?n.delegate.schedule(e,i,u):t.prototype.schedule.call(this,e,i,u)},n.prototype.flush=function(t){var n=this.actions;if(this.active)n.push(t);else{var e;this.active=!0;do{if(e=t.execute(t.state,t.delay))break}while(t=n.shift());if(this.active=!1,e){for(;t=n.shift();)t.unsubscribe();throw e}}},n}(a))(c),d=e("FFOo"),f=e("G5J1"),p=e("F/XL"),v=e("6blF"),y=function(){function t(t,n,e){this.kind=t,this.value=n,this.error=e,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,n,e){switch(this.kind){case"N":return t&&t(this.value);case"E":return n&&n(this.error);case"C":return e&&e()}},t.prototype.accept=function(t,n,e){return t&&"function"==typeof t.next?this.observe(t):this.do(t,n,e)},t.prototype.toObservable=function(){var t;switch(this.kind){case"N":return Object(p.a)(this.value);case"E":return t=this.error,new v.a(function(n){return n.error(t)});case"C":return Object(f.a)()}throw new Error("unexpected notification kind value")},t.createNext=function(n){return void 0!==n?new t("N",n):t.undefinedValueNotification},t.createError=function(n){return new t("E",void 0,n)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();function g(t,n){void 0===n&&(n=h);var e,i=(e=t)instanceof Date&&!isNaN(+e)?+t-n.now():Math.abs(t);return function(t){return t.lift(new w(i,n))}}var w=function(){function t(t,n){this.delay=t,this.scheduler=n}return t.prototype.call=function(t,n){return n.subscribe(new b(t,this.delay,this.scheduler))},t}(),b=function(t){function n(n,e,i){var u=t.call(this,n)||this;return u.delay=e,u.scheduler=i,u.queue=[],u.active=!1,u.errored=!1,u}return s.b(n,t),n.dispatch=function(t){for(var n=t.source,e=n.queue,i=t.scheduler,u=t.destination;e.length>0&&e[0].time-i.now()<=0;)e.shift().notification.observe(u);if(e.length>0){var l=Math.max(0,e[0].time-i.now());this.schedule(t,l)}else this.unsubscribe(),n.active=!1},n.prototype._schedule=function(t){this.active=!0,this.add(t.schedule(n.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))},n.prototype.scheduleNotification=function(t){if(!0!==this.errored){var n=this.scheduler,e=new m(n.now()+this.delay,t);this.queue.push(e),!1===this.active&&this._schedule(n)}},n.prototype._next=function(t){this.scheduleNotification(y.createNext(t))},n.prototype._error=function(t){this.errored=!0,this.queue=[],this.destination.error(t)},n.prototype._complete=function(){this.scheduleNotification(y.createComplete())},n}(d.a),m=function(t,n){this.time=t,this.notification=n},x=e("xMyE"),I=function(){function t(t){this.chat=t}return t.prototype.activate=function(){var t=this;this.chat.latest$.pipe(Object(r.a)(function(t){return 1===t[0].userId}),g(0),Object(x.a)(function(){return t.chat.addMessage({loading:!0,userId:2})}),g(1e3)).subscribe(function(n){t.chat.addMessage(t.getResponse(n))})},t.prototype.getResponse=function(t){return{text:"Hello",userId:2}},t.ngInjectableDef=i.O({factory:function(){return new t(i.R(o))},token:t,providedIn:"root"}),t}(),k=function(){function t(t,n){this.chat=t,this.bot=n}return t.prototype.ngOnInit=function(){this.bot.activate(),this.messages$=this.chat.messages$},t.prototype.onSend=function(t){this.chat.addMessage(t)},t}(),O=function(){},N=e("Ip0R"),C=function(){},M=i.Ia({encapsulation:0,styles:[["[_nghost-%COMP%]{min-height:100%;display:flex;flex-direction:column-reverse}"]],data:{}});function K(t){return i.Wa(0,[(t()(),i.Ka(0,0,null,null,1,"span",[["class","button is-loading"]],null,null,null,null,null)),(t()(),i.Ua(-1,null,["Loading"]))],null,null)}function _(t){return i.Wa(0,[(t()(),i.Ka(0,0,null,null,3,"p",[],[[2,"has-text-right",null]],null,null,null,null)),(t()(),i.Ua(1,null,[" "," "])),(t()(),i.Ba(16777216,null,null,1,null,K)),i.Ja(3,16384,null,0,N.j,[i.K,i.H],{ngIf:[0,"ngIf"]},null)],function(t,n){t(n,3,0,null==n.context.$implicit?null:n.context.$implicit.loading)},function(t,n){t(n,0,0,1===n.context.$implicit.userId),t(n,1,0,n.context.$implicit.text)})}function $(t){return i.Wa(2,[(t()(),i.Ba(16777216,null,null,1,null,_)),i.Ja(1,802816,null,0,N.i,[i.K,i.H,i.p],{ngForOf:[0,"ngForOf"]},null)],function(t,n){t(n,1,0,n.component.messages)},null)}var j=function(){function t(){this.send=new i.l}return t.prototype.respond=function(t){this.send.emit({text:t,userId:1})},t}(),A=i.Ia({encapsulation:0,styles:[["[_nghost-%COMP%]{width:inherit;position:fixed;bottom:0;background:#fff}"]],data:{}});function D(t){return i.Wa(2,[(t()(),i.Ka(0,0,null,null,5,"div",[["class","field has-addons"]],null,null,null,null,null)),(t()(),i.Ka(1,0,null,null,1,"div",[["class","control is-expanded"]],null,null,null,null,null)),(t()(),i.Ka(2,0,[["box",1]],null,0,"input",[["class","input"],["placeholder","Message"],["type","text"]],null,[[null,"keyup.enter"]],function(t,n,e){var u=!0;return"keyup.enter"===n&&(t.component.respond(i.Ra(t,2).value),u=!1!==(i.Ra(t,2).value="")&&u),u},null,null)),(t()(),i.Ka(3,0,null,null,2,"div",[["class","control"]],null,null,null,null,null)),(t()(),i.Ka(4,0,null,null,1,"button",[["class","button"]],null,[[null,"click"]],function(t,n,e){var u=!0;return"click"===n&&(t.component.respond(i.Ra(t,2).value),u=!1!==(i.Ra(t,2).value="")&&u),u},null,null)),(t()(),i.Ua(-1,null,["Send"]))],null,null)}var E=i.Ia({encapsulation:0,styles:[["[_nghost-%COMP%]{height:100%;display:flex;align-items:center;justify-content:center}.is-narrow[_ngcontent-%COMP%]{width:400px;height:100%}ff-chat-output[_ngcontent-%COMP%]{padding-bottom:40vh}ff-chat-input[_ngcontent-%COMP%]{height:40vh}"]],data:{}});function R(t){return i.Wa(2,[(t()(),i.Ka(0,0,null,null,5,"div",[["class","content is-narrow"]],null,null,null,null,null)),(t()(),i.Ka(1,0,null,null,2,"ff-chat-output",[],null,null,null,$,M)),i.Ja(2,49152,null,0,C,[],{messages:[0,"messages"]},null),i.Sa(131072,N.b,[i.h]),(t()(),i.Ka(4,0,null,null,1,"ff-chat-input",[],null,[[null,"send"]],function(t,n,e){var i=!0;return"send"===n&&(i=!1!==t.component.onSend(e)&&i),i},D,A)),i.Ja(5,49152,null,0,j,[],null,{send:"send"})],function(t,n){var e=n.component;t(n,2,0,i.Va(n,2,0,i.Ra(n,3).transform(e.messages$)))},null)}var J=i.Ga("ff-chat",k,function(t){return i.Wa(0,[(t()(),i.Ka(0,0,null,null,1,"ff-chat",[],null,null,null,R,E)),i.Ja(1,114688,null,0,k,[o,I],null,null)],function(t,n){t(n,1,0)},null)},{},{},[]),Q=e("ZYCi");e.d(n,"ChatModuleNgFactory",function(){return q});var q=i.Ha(O,[],function(t){return i.Pa([i.Qa(512,i.j,i.W,[[8,[J]],[3,i.j],i.u]),i.Qa(4608,N.l,N.k,[i.r,[2,N.p]]),i.Qa(4608,o,o,[]),i.Qa(4608,I,I,[o]),i.Qa(1073742336,N.c,N.c,[]),i.Qa(1073742336,Q.l,Q.l,[[2,Q.q],[2,Q.k]]),i.Qa(1073742336,O,O,[]),i.Qa(1024,Q.i,function(){return[[{path:"",component:k}]]},[])])})}}]);